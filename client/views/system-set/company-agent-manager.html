<div class="page page-grid" data-ng-controller="CommissionAgentManagerCtrl">
    <div class="panel panel-default">
        <div class="col-md-5" check-permissions="specialAgentCreate">
            <div class="panel_r">
                <div class="panel panel-form-list">
                    <div class="panel-heading">
                        <strong>公司戶口管理</strong>
                        <button class="btn btn-confirm pull-right" data-ng-click="add_fraction()">新增公司戶口</button>
                    </div>
                    <div class="panel-content">
                        <form name="form_company_agent" class="ng-valid ng-dirty form-validation" server-validation="{{sub_post}}{{company_agent_url}}">
                            <table>
                                <tr height="50">
                                    <td data-min-screen-width="80" width="100" class="text-right">戶口編號：</td>
                                    <td data-min-screen-width="150" width="180">
                                        <input type="text"
                                               data-ng-required="enableClientValidation"
                                               name="agent_info_id"
                                               data-input-uppercase
                                               data-ng-model="new_record.agent_code"
                                               class="form-control">
                                    </td>
                                    <td class="text-right">戶口姓名：</td>
                                    <td data-min-screen-width="150" width="180">{{new_record.agent_name}}</td>
                                </tr>
                                <tr height="50">
                                    <td data-min-screen-width="80" class="text-right" width="100">業務類型：</td>
                                    <td>
                                        <select data-ng-model="record.business_type_id"
                                                class="form-control"
                                                name="business_type_id"
                                                ng-options="h.id as h.business_name for h in businessTypes">
                                            <option value = "">請選擇業務類型</option>
                                        </select>
                                    </td>
                                    <td class="text-right" width="100">存卡名稱：</td>
                                    <td>
                                        <select data-ng-model="record.deposit_card_id"
                                                class="form-control"
                                                name="deposit_card_id"
                                                ng-options="h.id as h.card_name for h in depositCards">
                                            <option value = "">請選擇存卡名稱</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr height="50">
                                    <td class="text-right">操作密碼：</td>
                                    <td><input name="pin_code" type="password" data-ng-model="record.pin_code" class="form-control" style="width: 130px;float: left" data-enter-key="submit()"></td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                </tr>
                            </table>
                            <br><br><br>
                            <div class="row" style="text-align: center;">
                                <button class="btn btn-confirm margin-right-15" ng-click="submit()" data-ng-disabled="disabled_submit">提交</button>
                                <button class="btn btn-cancel" ng-click="reset()" >重置</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
        <div class="panel_l col-md-7">
            <div class="panel">
                <div class="panel-content">

                    <div class="panel panel-list-detail">
                        <div class="panel-heading">
                        </div>
                        <div class="panel-content">
                            <table class="table table-bordered table-striped table-hover">
                                <thead>
                                <tr>
                                    <td width="150">戶口編號</td>
                                    <td>戶口名稱</td>
                                    <td>業務類型</td>
                                    <td>存卡名稱</td>
                                    <td width="150" check-permissions="specialAgentUpdate,specialAgentDelete">操作</td>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="specialAgent in specialAgents" data-selected-rows>
                                    <td>{{specialAgent.agent_code}}</td>
                                    <td>{{specialAgent.agent_name}}</td>
                                    <td>{{specialAgent.business_name}}</td>
                                    <td>{{specialAgent.card_name}}</td>
                                    <td check-permissions="specialAgentUpdate,specialAgentDelete">
                                        <button class="btn btn-information btn-table" check-permissions="specialAgentUpdate" ng-click="update(specialAgent.id)">修改</button>
                                        <button class="btn btn-information btn-table" check-permissions="specialAgentDelete" ng-click="delete(specialAgent.id)">刪除</button>
                                    </td>
                                </tr>
                                <tr data-ng-show="specialAgents.length == 0">
                                    <td colspan="5">暫無符合條件的記錄</td>
                                </tr>
                                </tbody>
                            </table>
                            <footer class="table-footer">
                                <div class="text-right pagination-container">
                                    <pagination class="pagination-sm"
                                                page="pagination.page"
                                                total-items="pagination.total_items"
                                                on-select-page="select(page)"
                                                max-size = "pagination.max_size"
                                                items-per-page = "pagination.items_per_page"
                                                data-ng-hide="pagination.total_items <= pagination.items_per_page"></pagination>
                                    <paginationselect pageCtrl="pagination" select-page="select" ></paginationselect>
                                </div>
                            </footer>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>