<div class="page page-grid" data-ng-controller="integralTypeBindCtrl">
    <div class="panel panel-default">
        <div class="col-md-5" check-permissions="integralTypeBindCreate">
            <div class="panel_r">
                <div class="panel panel-form-list">
                    <div class="panel-heading">
                        <strong>積分類型綁定</strong>
                        <button class="btn btn-confirm pull-right" data-ng-click="add()">積分類型綁定</button>
                    </div>
                    <div class="panel-content">
                        <form name="form_integral_bind" class="ng-valid ng-dirty form-validation" server-validation="{{sub_post}}{{form_integral_bind_url}}">
                            <table>
                                <tr height="50">
                                    <td data-min-screen-width="80" width="100" class="text-right">廳館：</td>
                                    <td data-min-screen-width="150" width="180">
                                        <select data-ng-model="record.id" class="form-control" name="id" ng-options="h.id as h.hall_name for h in halls">
                                            <option value = "">請選擇廳館</option>
                                        </select>
                                    </td>
                                    <td data-min-screen-width="80" class="text-right" width="100">積分類型：</td>
                                    <td data-min-screen-width="150" width="180">
                                        <select data-ng-model="record.integral_type_id" class="form-control" name="integral_type_id" ng-options="h.id as h.integral_name for h in integralTypes">
                                            <option value = "">請選擇積分類型</option>
                                        </select>
                                    </td>
                                </tr>

                                <tr height="50">
                                    <td class="text-right">操作密碼：</td>
                                    <td><input name="pin_code" type="password" data-ng-model="record.pin_code" class="form-control" style="width: 130px;float: left" data-enter-key="submit()"></td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr height="50">

                                </tr>
                            </table>
                            <br><br><br>
                            <div class="row" style="text-align: center;">
                                <button class="btn btn-confirm margin-right-15" ng-click="submit()" data-ng-disabled="disabled_submit">提交</button>
                                <button class="btn btn-cancel" ng-click="reset()" >重置</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
        <div class="panel_l col-md-7">
            <div class="panel">
                <div class="panel-content">

                    <div class="panel panel-list-detail">
                        <div class="panel-heading">
                        </div>
                        <div class="panel-content">
                            <table class="table table-bordered table-striped table-hover">
                                <thead>
                                <tr>
                                    <td>積分類型</td>
                                    <td>廳館</td>
                                    <td width="150" check-permissions="integralTypeBindUpdate,integralTypeBindDelete">操作</td>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="hall in hallNames" data-selected-rows>
                                    <td>{{hall.integral_name}}</td>
                                    <td>{{hall.hall_name}}</td>
                                    <td check-permissions="integralTypeBindUpdate,integralTypeBindDelete">
                                        <button class="btn btn-information btn-table" check-permissions="integralTypeBindUpdate" ng-click="update(hall)">修改</button>
                                        <button class="btn btn-information btn-table" check-permissions="integralTypeBindDelete" ng-click="delete(hall.id)">刪除</button>
                                    </td>
                                </tr>
                                <tr data-ng-show="hallNames.length == 0">
                                    <td colspan="4">暫無符合條件的記錄</td>
                                </tr>
                                </tbody>
                            </table>
                            <footer class="table-footer">
                                <div class="text-right pagination-container">
                                    <pagination class="pagination-sm"
                                                page="pagination.page"
                                                total-items="pagination.total_items"
                                                on-select-page="select(page)"
                                                max-size = "pagination.max_size"
                                                items-per-page = "pagination.items_per_page"
                                                data-ng-hide="pagination.total_items <= pagination.items_per_page"></pagination>
                                    <paginationselect pageCtrl="pagination" select-page="select" ></paginationselect>
                                </div>
                            </footer>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>